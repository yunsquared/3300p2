<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
   
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>yw458 awi3 3300 P2 Project</title>
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <script src="https://d3js.org/topojson.v3.min.js"></script>
    </head>

    <style>

    </style>
    <body>
        <h1>title</h1>

        <svg id="us-map" height = "800" width="1000" style="border: 1px solid lightgray;"></svg>

        <script>
            const us = d3.select("#us-map");
            const width = us.attr("width");
            const height = us.attr("height");
            
            const usmap= us.append("g");


            const requestData = async function() {
                //load datasets 

                //const senateEdges = await d3.csv("senate.109.rollcall.edges.csv");

                //const senateNodes = await d3.csv("senate.109.rollcall.nodes.csv");

                const broadband = await d3.csv("../datasets/broadband_data.csv");
                
                const countymap = await d3.json("../datasets/countymap.json");

                const county10m = await d3.json("../datasets/counties-10m.json");

                const refugee = await d3.json("../datasets/refugee.json");

                console.log(broadband);
                console.log(countymap);
                console.log(county10m);
                console.log(refugee);

                const projection = d3.geoAlbersUsa().scale(1300).translate([500,400]);
                const path = d3.geoPath().projection(projection);
                const nation = topojson.feature(county10m, county10m.objects.nation);
                const statesMesh = topojson.mesh(county10m, county10m.objects.states);
    

                //usmap.selectAll("path.county").data(county.features)

            
            }
            requestData();


        </script>
        
    </body>
</html>